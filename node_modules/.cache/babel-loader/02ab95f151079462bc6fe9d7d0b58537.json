{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const fetchPizzas = createAsyncThunk('pizza/fetchPizzasStatus', async params => {\n  let {\n    order,\n    sortBy,\n    category,\n    searchBy,\n    currentPage\n  } = params;\n  const {\n    data\n  } = await axios.get(`https://62ed2633818ab252b60b026e.mockapi.io/items?${searchBy}&p=${currentPage}&l=8&${category}&sortBy=${sortBy}&order=${order}`);\n  return data;\n});\nconst initialState = {\n  items: [],\n  status: 'loading'\n};\nconst pizzaSlice = createSlice({\n  name: 'pizza',\n  initialState,\n  reducers: {\n    setItems(state, action) {\n      state.items = action.payload;\n    }\n\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchPizzas.pending, state => {\n      state.status = 'loading';\n      state.items = [];\n    });\n    builder.addCase(fetchPizzas.fulfilled, (state, action) => {\n      state.items = action.payload;\n      state.status = 'fulfilled';\n    });\n    builder.addCase(fetchPizzas.rejected, state => {\n      state.status = 'reject';\n      state.items = [];\n    });\n  }\n});\nexport const selectPizzas = state => state.pizza;\nexport const {\n  setItems\n} = pizzaSlice.actions;\nexport default pizzaSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","fetchPizzas","params","order","sortBy","category","searchBy","currentPage","data","get","initialState","items","status","pizzaSlice","name","reducers","setItems","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","selectPizzas","pizza","actions","reducer"],"sources":["/Users/maksimdimitrak/Desktop/Programming/portfolio/react_pizza/src/redux/slices/pizzaSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\n\n\ntype TFetchFilter = {\n\torder: string,\n\tsortBy: string,\n}\nexport const fetchPizzas = createAsyncThunk('pizza/fetchPizzasStatus', async (params) => {\n\tlet { order, sortBy, category, searchBy, currentPage }: TFetchFilter = params\n\tconst { data } = await axios.get(`https://62ed2633818ab252b60b026e.mockapi.io/items?${searchBy}&p=${currentPage}&l=8&${category}&sortBy=${sortBy}&order=${order}`)\n\treturn data\n})\n\nconst initialState = {\n\titems: [],\n\tstatus: 'loading',\n}\n\nconst pizzaSlice = createSlice({\n\tname: 'pizza',\n\tinitialState,\n\treducers: {\n\t\tsetItems(state, action) {\n\t\t\tstate.items = action.payload\n\t\t},\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder.addCase(fetchPizzas.pending, (state) => {\n\t\t\tstate.status = 'loading'\n\t\t\tstate.items = []\n\t\t})\n\t\tbuilder.addCase(fetchPizzas.fulfilled, (state, action) => {\n\t\t\tstate.items = action.payload\n\t\t\tstate.status = 'fulfilled'\n\t\t})\n\t\tbuilder.addCase(fetchPizzas.rejected, (state) => {\n\t\t\tstate.status = 'reject'\n\t\t\tstate.items = []\n\t\t})\n\t}\n})\n\nexport const selectPizzas = state => state.pizza\n\nexport const { setItems } = pizzaSlice.actions\n\nexport default pizzaSlice.reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAOA,OAAO,MAAMC,WAAW,GAAGH,gBAAgB,CAAC,yBAAD,EAA4B,MAAOI,MAAP,IAAkB;EACxF,IAAI;IAAEC,KAAF;IAASC,MAAT;IAAiBC,QAAjB;IAA2BC,QAA3B;IAAqCC;EAArC,IAAmEL,MAAvE;EACA,MAAM;IAAEM;EAAF,IAAW,MAAMR,KAAK,CAACS,GAAN,CAAW,qDAAoDH,QAAS,MAAKC,WAAY,QAAOF,QAAS,WAAUD,MAAO,UAASD,KAAM,EAAzI,CAAvB;EACA,OAAOK,IAAP;AACA,CAJ0C,CAApC;AAMP,MAAME,YAAY,GAAG;EACpBC,KAAK,EAAE,EADa;EAEpBC,MAAM,EAAE;AAFY,CAArB;AAKA,MAAMC,UAAU,GAAGd,WAAW,CAAC;EAC9Be,IAAI,EAAE,OADwB;EAE9BJ,YAF8B;EAG9BK,QAAQ,EAAE;IACTC,QAAQ,CAACC,KAAD,EAAQC,MAAR,EAAgB;MACvBD,KAAK,CAACN,KAAN,GAAcO,MAAM,CAACC,OAArB;IACA;;EAHQ,CAHoB;EAQ9BC,aAAa,EAAGC,OAAD,IAAa;IAC3BA,OAAO,CAACC,OAAR,CAAgBrB,WAAW,CAACsB,OAA5B,EAAsCN,KAAD,IAAW;MAC/CA,KAAK,CAACL,MAAN,GAAe,SAAf;MACAK,KAAK,CAACN,KAAN,GAAc,EAAd;IACA,CAHD;IAIAU,OAAO,CAACC,OAAR,CAAgBrB,WAAW,CAACuB,SAA5B,EAAuC,CAACP,KAAD,EAAQC,MAAR,KAAmB;MACzDD,KAAK,CAACN,KAAN,GAAcO,MAAM,CAACC,OAArB;MACAF,KAAK,CAACL,MAAN,GAAe,WAAf;IACA,CAHD;IAIAS,OAAO,CAACC,OAAR,CAAgBrB,WAAW,CAACwB,QAA5B,EAAuCR,KAAD,IAAW;MAChDA,KAAK,CAACL,MAAN,GAAe,QAAf;MACAK,KAAK,CAACN,KAAN,GAAc,EAAd;IACA,CAHD;EAIA;AArB6B,CAAD,CAA9B;AAwBA,OAAO,MAAMe,YAAY,GAAGT,KAAK,IAAIA,KAAK,CAACU,KAApC;AAEP,OAAO,MAAM;EAAEX;AAAF,IAAeH,UAAU,CAACe,OAAhC;AAEP,eAAef,UAAU,CAACgB,OAA1B"},"metadata":{},"sourceType":"module"}